<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <!-- to input username and login -->
      <div id="userName">
        <div
          style="
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 300px;
          "
        >
          <input
            type="text"
            placeholder="what should we call you"
            style="text-align: center; height: 75px; font-size: xx-large"
            name=""
            id="userNameInput"
          />
          <div style="height: 5px"></div>
          <button onclick="login()" class="actionButton">login</button>
        </div>
      </div>

      <!-- to dsplay current login user nformation -->
      <div id="userInfo">
        <div
          style="
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 300px;
          "
        >
          <h1>Hello, <span id="nameHere"></span></h1>
        </div>
      </div>

      <!-- to make a call with name -->
      <div id="call">
        <div class="dialWrapper">
          <input
            type="text"
            placeholder="whom to call"
            style="text-align: center; height: 50px; font-size: xx-large"
            name="callName"
            id="callName"
          />
          <div class="dialNumberWrapper">
            <div class="dialNumber"></div>
            <div class="dialNumber">
              <button class="dialActionButton" onclick="call()">call</button>
            </div>
            <div class="dialNumber"></div>
          </div>
        </div>
      </div>
      <!-- to show incoming call & accept -->
      <div id="answer">
        <div class="incomingWrapper">
          <div class="itemWrapper"><h2>Incoming call</h2></div>
          <div class="itemWrapper">
            <img
              src=""
              alt="pic"
              style="padding: 30px; width: 140px; height: 140px"
            />
          </div>
          <div class="itemWrapper">
            <h2 style="line-height: 0px"><span id="callerName"></span></h2>
          </div>
          <div
            class="itemWrapper"
            style="display: flex; flex-direction: row; margin-bottom: 20px"
          >
            <button class="actionButton" onclick="answer()">Answer</button>
          </div>
        </div>
      </div>
      <!-- to show outgoing call -->
      <div id="calling">
        <div>
          <div><h2>Calling</h2></div>
          <div>
            <img
              src=""
              alt="img2"
              style="padding: 30px; width: 140px; height: 140px"
            />
          </div>
          <div>
            <h3 style="line-height: 0px"><span id="otherUserNameCA"></span></h3>
          </div>
        </div>
      </div>
      <!-- to show call in progress call -->
      <div id="inCall">
        <div class="incomingWrapper">
          <div class="itemWrapper">
            <h3>On call with</h3>
            <h2 style="line-height: 0px"><span id="otherUserNameC"></span></h2>
          </div>
        </div>
      </div>
      <br />
      <!-- to show local and remote video -->
      <div id="videos">
        <div>
          <video
            width="350px"
            id="localVideo"
            autoplay
            muted
            playsinline
          ></video>
        </div>
        <div>
          <video
            style="width: 500px"
            id="remoteVideo"
            autoplay
            playsinline
          ></video>
        </div>
      </div>
    </div>
    <script src="/assets/call.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      document.getElementById("call").style.display = "none";
      document.getElementById("userInfo").style.display = "none";
      document.getElementById("answer").style.display = "none";
      document.getElementById("inCall").style.display = "none";
      document.getElementById("calling").style.display = "none";
      document.getElementById("videos").style.display = "none";
    </script>
    <script>
      function login() {
        let userName = document.getElementById("userNameInput").value;
        myName = userName;
        document.getElementById("userName").style.display = "none";
        document.getElementById("call").style.display = "block";
        document.getElementById("nameHere").innerHTML = userName;
        document.getElementById("userInfo").style.display = "block";
        connectSocket();
      }
    </script>
  </body>
</html>
